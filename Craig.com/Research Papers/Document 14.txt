b'BRep-Index:\nAMultidimensional Space Partitioning Tree\nGeorge Vam%ek, Jr.\nDepartment ofComputer Science\nPurdue University\nWestLafayette, IN47907\nE-Mail: vanecek@c.s.purdue. edu\nAbstract\nInthispaperweintroduce theBrep-index, anewmulti-\ndim.erssional spacepartitioning datastructure thatpro-\n~)idesqrslckaccr=sstothevertices, edgesandfacesofa\nboundary representation (Brep), thusyielding asingle\nunified representation forpolyhedml solids. Wedescribe\ntheconstruction oftheBrep-index andshowthatitssize\nisQ(v+e+ f),wherev, e,and~arethenumber ofver-\ntices,edges,andfacesoftheBrep.Thelowerboundcan\nbeachievedforsomeBrepsbycompressing thestructure\nusingsimple rewrite rules. WeapplytheBrep-index\ntosolvethepoint/solid andtheline/solid classification\nproblems, andoutline aneficient collision detection al-\ngorithm asanexample ofitsuse.\n1Introduction\nMostdatastructures thatexistforrepresenting polyhe-\ndralsolidscanbecategorized eitherasboundary-based\norasvolume-based. Eachcategory hascertain bene-\nfitsnotfoundintheotherandtherefore, manygeomet-\nricmodeling systems useboth.Typically, aboundary\nrepresentation (Brep) isusedastheprimary represen-\ntation withaseparate volume-based directory aiding\ntheretrieval ofvertices, andpossibly edgesandfaces\nfromthe13rep. Thedirectory improves theefficiency\nofvolume-based operations suchasthepoint/solid and\ntbeline/solid classifications.\nWhile muchoftheemphasis isplaced oncorrectly\nandefficiently creating Breps, anefficient spatial anal-\nysisofacorrectly created Brepisequally important for\napplications thatrepeatedly reason aboutsolids. Col-\nPermission tocopywithout feeallorpartofthismaterial isgrantedpro-\nvidedthatthecopiesarenotmadeordistributed fordirectcommercial\nadvantage, theACMcopyright noticeandtietitleofthepublication and\nitsdateappear, andnoticeisgiventhatcopyingisbypernrission ofthe\nAssociation forComputing Machinery. Tocopyotherwise, ortorepublish,\nrequiresafeeand/orspecificpermission.lisiondetection, andanalysis ofmoving objects issuch\nanapplication. Itiswiththisapplication inmind,that\navolume-based representation thatcanbeintegrated\nwithaBreptoyieldasingleunified representation isin-\ntroduced. Wecallthenewrepresentation aBrep-index.\nTheBrep-index isanextension ofthebinary space\npartition (BSP) tree[13].Ad-dimensional BSPtreehi-\nerarchically decomposes spaceintod-dimensional con-\nvexregions. TherootnodeofaBSPtreerepresents the\nentirespacewhiletheleavesrepresent regions thatare\neithercompletely insideorcompletely outside thesolid.\nEachinternal nodecontains anoriented cutplanethat\ncutstheregion represented bythenodeintotwoopen\nsubregions, oneaboveandonebelowthecutplane. This\nrecursive decomposition ofd-dimensional spaceissuffi-\ncienttouniquely represent asolidwithplanar bound-\naries. Asoneofthemanyoperations thattheBSP\ntreecansupport, itcaneasilyfacilitate theckuwifica-\ntionofapointbyproviding information astothepoint\nlyinginside,ontheboundary oroutsidethesolid.How-\never,sincetheBSPtreedecomposes onlythegivend-\ndimensional spaceitcannot provide detailed informa-\ntionabouttheboundary whichconsists oflowerdimen-\nsionalcomponents.\nTheBrep-index overcomes thisproblem byextending\ntheBSPtreeintoamultidimensional structure. The\nhyperplanes separating thed-dimensional openregions\narerecursively decomposed as(d\xe2\x80\x93I)-dimensional BSP\ntrees. Thispartitions spaceintothree, two,oneand\nzero-dimensional openregions. Thismultidimensional\npartitioning ofspace isrepresented byaternary treein\nwhichthemiddle subtree represent thecutplanes. Ina\nrecent survey, Naylor proposes asimilar ideabutdoes\nnotworkoutimportant details [14].\nThemultidimensional partitioning hasseveral bene-\nfits.First,itallows thelabeling ofeachregion with\nanattribute whichinourcaseisthetopological entity\noftheBrep. InSection 2wespecify theconstruction\noftheBrep-index andthelabeling oftheregions. Sec-\nond,unlike theBSPtree,theBrep-index allows anal-\n@1991ACM089791-427-9/91/0006/0035 $1.50\n35\n'
b'gebraic approach tocompressing andrebalancing the\ntree,asdescribed inSection 3.Third, unlike thecom-\nplexalgorithms needed forBreps, thepoint/solid and\ntheline/solid classification problems canbesolved both\nrobustly andefficiently, andwiththeadditional advan-\ntageofknowing exactly which topological elements of\ntheBrepthepointandlinecontains, asdescribed in\nSection 4.Section 5presents acollision detection, and\nanalysis application alongwiththeperformance dataof\nthe13rep-index.\n2Constructing theBrep-Index\nTheBrep-index canbeconstructed forallmajor\nBreps proposed intheliterature, including Baum-\ngart\xe2\x80\x99s winged-edge datastructure [2],Braid\xe2\x80\x99s modi-\nfiedwinged-edge datastructure [3],Yamaguchi and\nTokieda\xe2\x80\x99s bridge-edge datastructure [23],Vaneiek\xe2\x80\x99s\nfedge-based clatastructures [19],Karaaick\xe2\x80\x99s star-edge\ndatastructure [9],andMantyla\xe2\x80\x99s half-edge datastruc-\nture[12].Theconstruction oftheBrep-index requires\nsimple Euleroperators [12]toperform localtopological\nchanges, andalsorequires theoperation tosplitaface\nbyacutting planerobustly.\nConsider nowthed-dimensional BSPtree.Itscut\nplanes areoriented (d\xe2\x80\x931)-dimensional hyperplanes in\nd-space defined byequations oftheform\nao+alzl+ ...+a~z~=O.\nThese hyperplanes mustberecursively decomposed,\nwhichrequires decomposing a(d\xe2\x80\x94I)-dimensional space\nby(d\xe2\x80\x932)-dimensional cutplanes\nbo+b~yl +...+b&ly&l =o.\nIntheBrep-index, theprojection intolowerdimensional\nspaceisavoided bymaintaining allthecutplanes of\nthelowerdimensions asplanes ind-dimensional space,\nwiththeadditional property thatthesecutplanes are\ntransversal tothelowerdimensional spacewhich they\npartition.\nWedenote anoriented plane, thehalfspace aboveit,\nandthehalfspace belowbyP,P+,andP\xe2\x80\x93,respectively.\nAsuppori region isaconvex setofzero,one,twoor\nthreedimensions defined asthenonempty intersection\nofplanes andhalfspaces, Withthesuperscript denoting\nthedimension, support regions aredefined ingeneral as\nfollows\nr\xe2\x80\x9c=P1nP2nP3,\n1\xe2\x80\x991=FjnP2tnPgnP$,\nr2=n PonflPy,\ni=l\xe2\x80\x9c\xe2\x80\x99..?11\nW.v;pe,r!\xe2\x80\x9c\xe2\x80\x99\n..\xe2\x80\x99\xe2\x80\x9d\n@\n.,:\xe2\x80\x9cf~;\xe2\x80\x99\xe2\x80\x9d\xe2\x80\x9d\n...,...,es...\n\xe2\x80\x9c.,.\nFigure 1:Thetopfaceofasolid, showtopleft,ispar-\ntitioned bycutplanes, shown attopright. Plane Pi\ncontains edgeei.\n-b?,r3_\ni=l\nwhere ~iseither +or\xe2\x80\x93.Notethatford>0,sup-\nportregions are(relatively) opensets.Wewilldecom-\nposethesolidanditsboundary elements intosuitable\nsupport regions. Eachsupport region isaleafofthe\n(uncompressed) Brep-index treeand,inthecaseofa\ndimension lessthanthree,itpoints toacorresponding\nboundary element.\nOften, support regions aredefined redundantly with\nmorehalfspaces thannecessary. Theredundancy al-\nlowsustoorganize theplanes andhalfspaces ofallthe\nsupport regions intoaternary treehierarchically. Each\ninternal treenodenrepresents anopenconvex region\nR(n), andcontains aplane, P(n),thatintersects R(n).\nThethreechildren ofthenoderepresent thesubregions\nofR(n)thatlieabove, on,andbelow P(n),andare\nreferred toaaABovE(n), oN(n), andBELow(n), respec-\ntively. Thus,\nR(ABovE(n)) =R(n)nP(n)+;\nR(oiw(n)) =R(n)IIP(n);\nR(BELow(n)) =R(n)nP(n)-.\nHere,aboveisinthedirection ofthenormal vector of\nP(n). Ifthedimension, dim(n), ofR(n)isd,then\ntheregions R(ABovE(~)) andR(BELow(~)) arealso\nd-dimensional, buttheregion R(oN(n)) is(d\xe2\x80\x93l)-\ndimensional.\nConsider thenonconvex solidandthepartition ofits\ntopfaceshown inFigure 1.Thecorresponding subtree\noftheBrep-index isshown inFigure 2.Thesubtree\nhasseventeen internal nodes. Inthefigure, foursimi-\nlarsubtrees aresuperimposed toimprove readability, as\nindicated bytheparallel edges.\nThealgorithm forbuilding theBrep-index consists of\nthreenecessary andoneoptional step.Inthefirststep,\nthemultidimensional ternary treeiscreated. During\nthisstep,theBrepisfragmented, Thatis,facesare\n36'
